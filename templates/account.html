{% extends "base.html" %}

{% block title %}Account Profile - Economystique{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">
{% endblock %}

{% block content %}
<div class="whole-container">

    <!-- PERSONAL CARD -->
    <form id="personalForm" class="card personal-container" onsubmit="updateProfile(event)">
        <button id="editBtn" class="edit-btn" type="button" onclick="toggleEdit()">Edit</button>
        <button id="saveBtn" class="save-btn" type="submit" style="display: none;">Save</button>

        <div class="avatar-circle">
            <span class="avatar-icon"></span>
        </div>

        <div class="personal-text">
            <p class="section-label">Business Owner</p>
            <h2 class="owner-name" id="ownerNameText">DildongDantes</h2>
            <input type="text" name="owner_name" id="ownerNameInput" value="DildongDantes" class="editable-input" style="display: none;">

            <p class="info-line">
                <span class="info-label">Contact Information:</span>
                <span id="contactText">0900-000-0000</span>
                <input type="text" name="contact" id="contactInput" value="0900-000-0000" class="editable-input" style="display: none;">
            </p>
        </div>
    </form>

    <!-- BUSINESS CARD -->
    <form id="businessForm" class="card business-container" onsubmit="updateBusiness(event)">
        <div class="biz-logo">
            
        </div>

        <div class="biz-text">
            <p class="section-label">Business Information</p>
            <h2 class="biz-name" id="bizNameText">J. RIZZ</h2>
            <input type="text" name="biz_name" id="bizNameInput" value="J. RIZZ" class="editable-input" style="display: none;">

            <p class="info-line">
                <span class="info-label">Industry:</span>
                <span id="industryText">Overworked, Underpaid</span>
                <input type="text" name="industry" id="industryInput" value="Overworked, Underpaid" class="editable-input" style="display: none;">
            </p>

            <p class="info-line">
                <span class="info-label">Business Type:</span>
                <span id="bizTypeText">Bakery</span>
                <input type="text" name="biz_type" id="bizTypeInput" value="Bakery" class="editable-input" style="display: none;">
            </p>

            <p class="info-line">
                <span class="info-label">Address:</span>
                <span id="addressText">kabaong ni Jose Rizal</span>
                <input type="text" name="address" id="addressInput" value="kabaong ni Jose Rizal" class="editable-input" style="display: none;">
            </p>
        </div>
    </form>

</div>
{% endblock %}

{% block extra_js %}
<script>
function toggleEdit() {
    const showText = (id, show) => {
        document.getElementById(id + 'Text').style.display = show ? 'inline' : 'none';
        document.getElementById(id + 'Input').style.display = show ? 'none' : 'inline-block';
    };

    ['ownerName', 'contact', 'bizName', 'industry', 'bizType', 'address'].forEach(id => showText(id, false));

    document.getElementById('editBtn').style.display = 'none';
    document.getElementById('saveBtn').style.display = 'inline-block';
}

function updateProfile(event) {
    event.preventDefault();
    alert("Personal information saved!");
    // Send to backend via fetch here if needed
}

function updateBusiness(event) {
    event.preventDefault();
    alert("Business information saved!");
    // Send to backend via fetch here if needed
}
</script>
{% endblock %}
